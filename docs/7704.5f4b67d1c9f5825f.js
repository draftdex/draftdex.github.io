"use strict";(self.webpackChunkDraftDex=self.webpackChunkDraftDex||[]).push([[7704],{7704:(B,C,l)=>{l.r(C),l.d(C,{ChatAppModule:()=>A});var m=l(177),a=l(4341),x=l(4007),e=l(4438),w=l(4412),y=l(1626);let g=(()=>{class n{constructor(t){this.http=t,this._activeUser={id:1,name:"Ioni Bowcher",image:"ionibowcher.png",status:"active",messages:[{text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit",ownerId:1,createdAt:1652646338240},{text:"Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua",ownerId:1,createdAt:1652646368718},{text:"Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua",ownerId:123,createdAt:1652646368718}],lastSeen:"2d"},this.activeUser=new w.t(this._activeUser),this.activeUser$=this.activeUser.asObservable()}getChatData(){return this.http.get("assets/demo/data/chat.json").toPromise().then(t=>t.data).then(t=>t)}changeActiveChat(t){this._activeUser=t,this.activeUser.next(t)}sendMessage(t){this._activeUser.messages.push(t),this.activeUser.next(this._activeUser)}static#e=this.\u0275fac=function(s){return new(s||n)(e.KVO(y.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})();var b=l(2242);const j=(n,c)=>({"bg-green-400":n,"bg-red-400":c,"bg-yellow-400":"away"});let k=(()=>{class n{constructor(t){this.chatService=t}ngOnInit(){let t=this.user.messages.filter(s=>123!==s.ownerId);this.lastMessage=t[t.length-1]}changeView(t){this.chatService.changeActiveChat(t)}static#e=this.\u0275fac=function(s){return new(s||n)(e.rXU(g))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-user-card"]],inputs:{user:"user"},decls:12,vars:9,consts:[["tabindex","0",1,"flex","flex-nowrap","justify-content-between","align-items-center","border-1","surface-border","border-round","p-3","cursor-pointer","select-none","hover:surface-hover","transition-colors","transition-duration-150",3,"keydown.enter","click"],[1,"flex","align-items-center"],[1,"relative","md:mr-3"],["alt","user",1,"w-3rem","h-3rem","border-circle","shadow-4",3,"src"],[1,"w-1rem","h-1rem","border-circle","border-2","surface-border","absolute",2,"bottom","2px","right","2px",3,"ngClass"],[1,"flex-column","hidden","md:flex"],[1,"text-900","font-semibold","block"],[1,"block","text-600","text-overflow-ellipsis","overflow-hidden","white-space-nowrap","w-10rem","text-sm"],[1,"text-700","font-semibold","ml-auto","hidden","md:inline"]],template:function(s,r){1&s&&(e.j41(0,"div",0),e.bIt("keydown.enter",function(){return r.changeView(r.user)})("click",function(){return r.changeView(r.user)}),e.j41(1,"div",1)(2,"div",2),e.nrm(3,"img",3)(4,"span",4),e.k0s(),e.j41(5,"div",5)(6,"span",6),e.EFF(7),e.k0s(),e.j41(8,"span",7),e.EFF(9),e.k0s()()(),e.j41(10,"span",8),e.EFF(11),e.k0s()()),2&s&&(e.R7$(3),e.Mz_("src","assets/demo/images/avatar/",r.user.image,"",e.B4B),e.R7$(),e.Y8G("ngClass",e.l_i(6,j,"active"===r.user.status,"busy"===r.user.status)),e.R7$(3),e.JRh(r.user.name),e.R7$(2),e.JRh(r.lastMessage.text),e.R7$(2),e.JRh(r.user.lastSeen))},dependencies:[m.YU],encapsulation:2})}return n})();function i(n,c){1&n&&e.nrm(0,"app-user-card",9),2&n&&e.Y8G("user",c.$implicit)}let f=(()=>{class n{constructor(t){this.chatService=t,this.searchValue="",this.users=[],this.filteredUsers=[]}ngOnInit(){this.chatService.getChatData().then(t=>{this.users=t,this.filteredUsers=this.users})}filter(){let t=[];for(let s=0;s<this.users.length;s++){let r=this.users[s];0==r.name.toLowerCase().indexOf(this.searchValue.toLowerCase())&&t.push(r)}this.filteredUsers=[...t]}static#e=this.\u0275fac=function(s){return new(s||n)(e.rXU(g))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-chat-sidebar"]],decls:10,vars:2,consts:[[1,"flex","flex-column","align-items-center","border-bottom-1","surface-border","p-6"],["src","assets/demo/images/avatar/circle/avatar-f-1@2x.png","alt","Asiya Javayant",1,"w-6rem","h-6rem","border-circle","shadow-4"],[1,"text-900","text-xl","font-semibold","mt-4"],[1,"w-full","flex","row-gap-4","flex-column","surface-border","p-4"],[1,"p-input-icon-left","w-full"],[1,"pi","pi-search"],["id","search","type","text","pInputText","","placeholder","Search",1,"w-full",3,"ngModelChange","input","ngModel"],[1,"flex","flex-row","gap-4","md:flex-column","overflow-auto"],[3,"user",4,"ngFor","ngForOf"],[3,"user"]],template:function(s,r){1&s&&(e.j41(0,"div",0),e.nrm(1,"img",1),e.j41(2,"span",2),e.EFF(3,"Asiya Javayant"),e.k0s()(),e.j41(4,"div",3)(5,"span",4),e.nrm(6,"i",5),e.j41(7,"input",6),e.mxI("ngModelChange",function(h){return e.DH7(r.searchValue,h)||(r.searchValue=h),h}),e.bIt("input",function(){return r.filter()}),e.k0s()(),e.j41(8,"div",7),e.DNE(9,i,1,1,"app-user-card",8),e.k0s()()),2&s&&(e.R7$(7),e.R50("ngModel",r.searchValue),e.R7$(2),e.Y8G("ngForOf",r.filteredUsers))},dependencies:[m.Sq,a.me,a.BC,a.vS,b.S,k],encapsulation:2})}return n})();var o=l(1141),d=l(5779),u=l(7983),v=l(563);const I=(n,c,t)=>({"bg-green-400":n,"bg-red-400":c,"bg-yellow-400":t});function R(n,c){if(1&n&&(e.j41(0,"div",23)(1,"div",24),e.nrm(2,"img",25),e.k0s(),e.j41(3,"div",26)(4,"p",27),e.EFF(5),e.k0s(),e.j41(6,"span",28),e.EFF(7),e.k0s(),e.j41(8,"p",29),e.EFF(9),e.nrm(10,"i",30),e.k0s()()()),2&n){const t=e.XpG().$implicit,s=e.XpG();e.R7$(2),e.Mz_("src","assets/demo/images/avatar/",s.user.image,"",e.B4B),e.R7$(3),e.JRh(s.user.name),e.R7$(2),e.JRh(t.text),e.R7$(2),e.JRh(s.parseDate(t.createdAt))}}function F(n,c){if(1&n&&(e.j41(0,"div",23)(1,"div",31)(2,"span",32),e.EFF(3),e.k0s(),e.j41(4,"p",29),e.EFF(5),e.nrm(6,"i",30),e.k0s()()()),2&n){const t=e.XpG().$implicit,s=e.XpG();e.R7$(3),e.JRh(t.text),e.R7$(2),e.SpI("",s.parseDate(t.createdAt)," ")}}function E(n,c){if(1&n&&(e.j41(0,"div"),e.DNE(1,R,11,5,"div",22)(2,F,7,2,"div",22),e.k0s()),2&n){const t=c.$implicit,s=e.XpG();e.R7$(),e.Y8G("ngIf",123!==t.ownerId),e.R7$(),e.Y8G("ngIf",t.ownerId===s.defaultUserId)}}function T(n,c){if(1&n){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){const r=e.eBV(t).$implicit,p=e.XpG(2);return e.sdS(23).hide(),e.Njj(p.onEmojiSelect(r))}),e.k0s()}2&n&&e.Y8G("label",c.$implicit)}function M(n,c){if(1&n&&e.DNE(0,T,1,1,"button",33),2&n){const t=e.XpG();e.Y8G("ngForOf",t.emojis)}}let S=(()=>{class n{constructor(t){this.chatService=t,this.defaultUserId=123,this.textContent="",this.uploadedFiles=[],this.emojis=["\u{1f600}","\u{1f603}","\u{1f604}","\u{1f601}","\u{1f606}","\u{1f605}","\u{1f602}","\u{1f923}","\u{1f607}","\u{1f609}","\u{1f60a}","\u{1f642}","\u{1f643}","\u{1f60b}","\u{1f60c}","\u{1f60d}","\u{1f970}","\u{1f618}","\u{1f617}","\u{1f619}","\u{1f61a}","\u{1f92a}","\u{1f61c}","\u{1f61d}","\u{1f61b}","\u{1f911}","\u{1f60e}","\u{1f913}","\u{1f9d0}","\u{1f920}","\u{1f973}","\u{1f917}","\u{1f921}","\u{1f60f}","\u{1f636}","\u{1f610}","\u{1f611}","\u{1f612}","\u{1f644}","\u{1f928}","\u{1f914}","\u{1f92b}","\u{1f92d}","\u{1f925}","\u{1f633}","\u{1f61e}","\u{1f61f}","\u{1f620}","\u{1f621}","\u{1f92c}","\u{1f614}","\u{1f61f}","\u{1f620}","\u{1f621}","\u{1f92c}","\u{1f614}","\u{1f615}","\u{1f641}","\u{1f62c}","\u{1f97a}","\u{1f623}","\u{1f616}","\u{1f62b}","\u{1f629}","\u{1f971}","\u{1f624}","\u{1f62e}","\u{1f631}","\u{1f628}","\u{1f630}","\u{1f62f}","\u{1f626}","\u{1f627}","\u{1f622}","\u{1f625}","\u{1f62a}","\u{1f924}"]}setMessage(){if(this.user){let t=this.user.messages.filter(s=>s.ownerId!==this.defaultUserId);this.message=t[t.length-1]}}ngOnInit(){this.setMessage()}sendMessage(){if(""!=this.textContent&&" "!==this.textContent){let t={text:this.textContent,ownerId:123,createdAt:(new Date).getTime()};this.chatService.sendMessage(t),this.textContent=""}}onEmojiSelect(t){this.textContent+=t}parseDate(t){return new Date(t).toTimeString().split(":").slice(0,2).join(":")}static#e=this.\u0275fac=function(s){return new(s||n)(e.rXU(g))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-chat-box"]],inputs:{user:"user"},decls:25,vars:11,consts:[["chatWindow",""],["op",""],[1,"flex","flex-column","h-full"],[1,"flex","align-items-center","border-bottom-1","surface-border","p-3","lg:p-6"],[1,"relative","flex","align-items-center","mr-3"],["alt","user.name",1,"w-4rem","h-4rem","border-circle","shadow-4",3,"src"],[1,"w-1rem","h-1rem","border-circle","border-2","surface-border","absolute","bottom-0","right-0",3,"ngClass"],[1,"mr-2"],[1,"text-900","font-semibold","block"],[1,"text-700"],[1,"flex","align-items-center","ml-auto"],["pButton","","pRipple","","type","button","icon","pi pi-phone",1,"p-button-rounded","p-button-outlined","p-button-secondary","mr-3"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-outlined","p-button-secondary"],[1,"p-3","md:px-4","lg:px-6","lg:py-4","mt-2","overflow-y-auto",2,"max-height","53vh",3,"scrollTop"],[4,"ngFor","ngForOf"],[1,"p-3","md:p-4","lg:p-6","flex","flex-column","sm:flex-row","align-items-center","mt-auto","border-top-1","surface-border","gap-3"],["id","message","type","text","pInputText","","placeholder","Type a message",1,"flex-1","w-full","sm:w-auto","border-round",3,"ngModelChange","keydown.enter","ngModel"],[1,"flex","w-full","sm:w-auto","gap-3"],["pRipple","",1,"p-button","p-button-secondary","w-full","sm:w-auto","justify-content-center","text-xl",3,"click"],["pButton","","pRipple","","label","Send","icon","pi pi-send",1,"w-full","sm:w-auto",3,"click"],["styleClass","w-full sm:w-30rem"],["pTemplate",""],["class","grid grid-nogutter mb-4",4,"ngIf"],[1,"grid","grid-nogutter","mb-4"],[1,"mr-3","mt-1"],["alt","user.name",1,"w-3rem","h-3rem","border-circle","shadow-4",3,"src"],[1,"col","mt-3"],[1,"text-900","font-semibold","mb-3"],[1,"text-700","inline-block","font-medium","border-1","surface-border","p-3","white-space-normal","border-round",2,"word-break","break-word","max-width","80%"],[1,"text-700","mt-3"],[1,"pi","pi-check","ml-2","text-green-400"],[1,"col","mt-3","text-right"],[1,"inline-block","text-left","font-medium","border-1","surface-border","bg-primary-100","text-primary-900","p-3","white-space-normal","border-round",2,"word-break","break-word","max-width","80%"],["pButton","","pRipple","","type","button","class","p-2 p-button-text text-2xl",3,"label","click",4,"ngFor","ngForOf"],["pButton","","pRipple","","type","button",1,"p-2","p-button-text","text-2xl",3,"click","label"]],template:function(s,r){if(1&s){const p=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4),e.nrm(3,"img",5)(4,"span",6),e.k0s(),e.j41(5,"div",7)(6,"span",8),e.EFF(7),e.k0s(),e.j41(8,"span",9),e.EFF(9,"Last active 1 hour ago"),e.k0s()(),e.j41(10,"div",10),e.nrm(11,"button",11)(12,"button",12),e.k0s()(),e.j41(13,"div",13,0),e.DNE(15,E,3,2,"div",14),e.k0s(),e.j41(16,"div",15)(17,"input",16),e.mxI("ngModelChange",function(_){return e.eBV(p),e.DH7(r.textContent,_)||(r.textContent=_),e.Njj(_)}),e.bIt("keydown.enter",function(){return e.eBV(p),e.Njj(r.sendMessage())}),e.k0s(),e.j41(18,"div",17)(19,"button",18),e.bIt("click",function(_){e.eBV(p);const V=e.sdS(23);return e.Njj(V.toggle(_))}),e.EFF(20,"\u{1f600}"),e.k0s(),e.j41(21,"button",19),e.bIt("click",function(){return e.eBV(p),e.Njj(r.sendMessage())}),e.k0s()()()(),e.j41(22,"p-overlayPanel",20,1),e.DNE(24,M,1,1,"ng-template",21),e.k0s()}if(2&s){const p=e.sdS(14);e.R7$(3),e.Mz_("src","assets/demo/images/avatar/",r.user.image,"",e.B4B),e.R7$(),e.Y8G("ngClass",e.sMw(7,I,"active"===r.user.status,"busy"===r.user.status,"away"===r.user.status)),e.R7$(3),e.JRh(r.user.name),e.R7$(6),e.Y8G("scrollTop",p.scrollHeight),e.R7$(2),e.Y8G("ngForOf",r.user.messages),e.R7$(2),e.R50("ngModel",r.textContent)}},dependencies:[m.YU,m.Sq,m.bT,a.me,a.BC,a.vS,b.S,o._f,d.Ei,u.j,v.n],encapsulation:2,changeDetection:0})}return n})(),D=(()=>{class n{constructor(t){this.chatService=t,this.subscription=this.chatService.activeUser$.subscribe(s=>this.activeUser=s)}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||n)(e.rXU(g))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["ng-component"]],decls:5,vars:1,consts:[[1,"flex","flex-column","md:flex-row","gap-5",2,"min-height","81vh"],[1,"md:w-25rem","card","p-0"],[1,"flex-1","card","p-0"],[3,"user"]],template:function(s,r){1&s&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"app-chat-sidebar"),e.k0s(),e.j41(3,"div",2),e.nrm(4,"app-chat-box",3),e.k0s()()),2&s&&(e.R7$(4),e.Y8G("user",r.activeUser))},dependencies:[f,S],encapsulation:2})}return n})(),U=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[x.iI.forChild([{path:"",component:D}]),x.iI]})}return n})();var G=l(9114),$=l(6150);let A=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({providers:[g],imports:[m.MD,a.YN,U,G.m,b.u,o.tm,$.EJ,u.d,v.Z]})}return n})()},9114:(B,C,l)=>{l.d(C,{e:()=>j,m:()=>k});var m=l(177),a=l(4438);const x=["*"];function e(i,f){if(1&i&&(a.j41(0,"span",4),a.EFF(1),a.k0s()),2&i){const o=a.XpG();a.R7$(),a.JRh(o.label)}}function w(i,f){if(1&i&&a.nrm(0,"span",6),2&i){const o=a.XpG(2);a.HbH(o.icon),a.Y8G("ngClass","p-avatar-icon")}}function y(i,f){if(1&i&&a.DNE(0,w,1,3,"span",5),2&i){const o=a.XpG(),d=a.sdS(6);a.Y8G("ngIf",o.icon)("ngIfElse",d)}}function g(i,f){if(1&i){const o=a.RV6();a.j41(0,"img",8),a.bIt("error",function(u){a.eBV(o);const v=a.XpG(2);return a.Njj(v.imageError(u))}),a.k0s()}if(2&i){const o=a.XpG(2);a.Y8G("src",o.image,a.B4B),a.BMQ("aria-label",o.ariaLabel)}}function b(i,f){if(1&i&&a.DNE(0,g,1,2,"img",7),2&i){const o=a.XpG();a.Y8G("ngIf",o.image)}}let j=(()=>{class i{label;icon;image;size="normal";shape="square";style;styleClass;ariaLabel;ariaLabelledBy;onImageError=new a.bkB;containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":null!=this.image,"p-avatar-circle":"circle"===this.shape,"p-avatar-lg":"large"===this.size,"p-avatar-xl":"xlarge"===this.size}}imageError(o){this.onImageError.emit(o)}static \u0275fac=function(d){return new(d||i)};static \u0275cmp=a.VBU({type:i,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy"},outputs:{onImageError:"onImageError"},ngContentSelectors:x,decls:7,vars:9,consts:[["iconTemplate",""],["imageTemplate",""],[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src","error",4,"ngIf"],[3,"error","src"]],template:function(d,u){if(1&d&&(a.NAR(),a.j41(0,"div",2),a.SdG(1),a.DNE(2,e,2,1,"span",3)(3,y,1,2,"ng-template",null,0,a.C5r)(5,b,1,1,"ng-template",null,1,a.C5r),a.k0s()),2&d){const v=a.sdS(4);a.HbH(u.styleClass),a.Y8G("ngClass",u.containerClass())("ngStyle",u.style),a.BMQ("aria-labelledby",u.ariaLabelledBy)("aria-label",u.ariaLabel)("data-pc-name","avatar"),a.R7$(2),a.Y8G("ngIf",u.label)("ngIfElse",v)}},dependencies:[m.YU,m.bT,m.B3],styles:["@layer primeng{.p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}}\n"],encapsulation:2,changeDetection:0})}return i})(),k=(()=>{class i{static \u0275fac=function(d){return new(d||i)};static \u0275mod=a.$C({type:i});static \u0275inj=a.G2t({imports:[m.MD]})}return i})()}}]);